(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{583:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var t=a(95155),r=a(12115),i=a(62177),l=a(90221),n=a(70927),d=a(1978),m=a(30285),o=a(62523),c=a(85057),u=a(49072),p=a(87481),x=a(50172);let f=n.Ik({email:n.Yj().email({message:"Invalid email address."}),password:n.Yj().min(6,{message:"Password must be at least 6 characters."})}),h=n.Ik({username:n.Yj().min(2,{message:"Username must be at least 2 characters."}),email:n.Yj().email({message:"Invalid email address."}),password:n.Yj().min(6,{message:"Password must be at least 6 characters."})});function b(){var e,s;let[a,n]=(0,r.useState)(!0),[b,j]=(0,r.useState)(!1),{login:g,signup:w}=(0,u.A)(),{toast:v}=(0,p.dj)(),{register:N,handleSubmit:y,formState:{errors:k}}=(0,i.mN)({resolver:(0,l.u)(f)}),{register:S,handleSubmit:E,formState:{errors:I}}=(0,i.mN)({resolver:(0,l.u)(h)}),_=async e=>{j(!0),await g(e.email,e.password),j(!1)},A=async e=>{j(!0),await w(e.email,e.password,e.username),j(!1)};return(0,t.jsx)("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center p-4",children:(0,t.jsx)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"bg-card p-8 rounded-2xl shadow-2xl border",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-center font-headline mb-2",children:a?"Welcome Back!":"Create Account"}),(0,t.jsx)("p",{className:"text-center text-muted-foreground mb-6",children:a?"Sign in to continue your journey.":"Join NURSE IQN to start learning."}),(0,t.jsxs)("form",{onSubmit:a?y(_):E(A),className:"space-y-4",children:[!a&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"username",children:"Username"}),(0,t.jsx)(o.p,{id:"username",type:"text",...S("username")}),I.username&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:I.username.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(o.p,{id:"email",type:"email",...a?N("email"):S("email")}),(a?k.email:I.email)&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:null==(e=a?k.email:I.email)?void 0:e.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"password",children:"Password"}),(0,t.jsx)(o.p,{id:"password",type:"password",...a?N("password"):S("password")}),(a?k.password:I.password)&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:null==(s=a?k.password:I.password)?void 0:s.message})]}),(0,t.jsxs)(m.$,{type:"submit",className:"w-full !mt-6",disabled:b,children:[b&&(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Login":"Sign Up"]})]}),(0,t.jsxs)("p",{className:"mt-6 text-center text-sm",children:[a?"Don't have an account?":"Already have an account?",(0,t.jsx)(m.$,{variant:"link",onClick:()=>n(!a),className:"font-semibold",children:a?"Sign Up":"Login"})]})]})})})}var j=a(35695);function g(){let{user:e,loading:s}=(0,u.A)(),a=(0,j.useRouter)();return((0,r.useEffect)(()=>{!s&&e&&a.push("/")},[e,s,a]),s||e)?null:(0,t.jsx)(b,{})}},62523:(e,s,a)=>{"use strict";a.d(s,{p:()=>l});var t=a(95155),r=a(12115),i=a(59434);let l=r.forwardRef((e,s)=>{let{className:a,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});l.displayName="Input"},85057:(e,s,a)=>{"use strict";a.d(s,{J:()=>m});var t=a(95155),r=a(12115),i=a(40968),l=a(74466),n=a(59434);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.b,{ref:s,className:(0,n.cn)(d(),a),...r})});m.displayName=i.b.displayName},85966:(e,s,a)=>{Promise.resolve().then(a.bind(a,583))}},e=>{e.O(0,[992,811,635,437,75,540,441,964,358],()=>e(e.s=85966)),_N_E=e.O()}]);